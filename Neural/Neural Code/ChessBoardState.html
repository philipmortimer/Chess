<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>ChessBoardState.java</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #000000; background-color: #ffffff; font-family: Monospaced}
pre {color: #000000; background-color: #ffffff; font-family: Monospaced}
table {color: #000000; background-color: #e9e8e2; font-family: Monospaced}
.string {color: #ce7b00}
.literal {color: #0000e6}
.comment {color: #969696}
.ST0 {color: #969696; font-family: Monospaced; font-weight: bold}
-->
</style>
</head>
<body>
<table width="100%"><tr><td align="center">C:\Users\mortimer\OneDrive - gowercollegeswansea.ac.uk\Documents\College\YEAR 12\COMPUTER SCIENCE\Books attempt\DataBase\PhilipM CS5 Software Development Neural Network train\src\philipm\cs5\software\development\neural\network\train\ChessBoardState.java</td></tr></table>
<pre>
  1 <span class="comment">/*</span>
  2 <span class="comment"> * To change this license header, choose License Headers in Project Properties.</span>
  3 <span class="comment"> * To change this template file, choose Tools | Templates</span>
  4 <span class="comment"> * and open the template in the editor.</span>
  5 <span class="comment"> */</span>
  6 <span class="literal">package</span> philipm.cs5.software.development.neural.network.train;
  7 
  8 <span class="comment">/**</span>
  9 <span class="comment"> * </span><span class="ST0">This</span> <span class="ST0">class</span> <span class="ST0">is</span> <span class="ST0">used</span> <span class="ST0">to</span> <span class="ST0">store</span> <span class="ST0">all</span> <span class="ST0">data</span> <span class="ST0">needed</span> <span class="ST0">for</span> <span class="ST0">a</span> <span class="ST0">single</span> <span class="ST0">board</span> <span class="ST0">state</span>
 10 <span class="comment"> * </span><span class="ST0">@author</span> <span class="comment">mortimer</span>
 11  <span class="comment">*/</span>
 12 <span class="literal">public</span> <span class="literal">class</span> ChessBoardState {
 13     <span class="literal">public</span> <span class="literal">final</span> <span class="literal">int</span> BOARD[][]= <span class="literal">new</span> <span class="literal">int</span>[8][8];<span class="comment">//stores chess board  white always starts at bottom</span>
 14     <span class="literal">public</span> <span class="literal">final</span> <span class="literal">boolean</span> IS_BLACK_TURN_TO_PLAY_NEXT;<span class="comment">//stores which colour is to move next</span>
 15     <span class="literal">public</span> <span class="literal">final</span> <span class="literal">boolean</span>[] CASTLING_RIGHTS=<span class="literal">new</span> <span class="literal">boolean</span>[4];<span class="comment">//stores the castling rights. Stored in format: White kingside, white queenside, black kingside, black queenside</span>
 16     <span class="literal">public</span> <span class="literal">final</span> <span class="literal">int</span> FULL_MOVE_NUMBER;<span class="comment">//the numbe of moves black has made. This value starts at one</span>
 17     <span class="literal">public</span> <span class="literal">final</span> <span class="literal">int</span> HALF_MOVE_CLOCK;<span class="comment">//the number of moves made since a piece was capture or a pawn advanced a square. This is used to enforce the fifty move rule. This value starts at 0</span>
 18     <span class="literal">public</span> <span class="literal">final</span>  <span class="literal">int</span>[]SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT;<span class="comment">//stores sqaure that can be captured via en passant. Has a length of 0 if no such squares are available</span>
 19     <span class="literal">private</span>  String fenString;<span class="comment">//stores fen string of board state</span>
 20     <span class="literal">private</span> <span class="literal">boolean</span> isDraw;<span class="comment">//stores whether the state is a draw. Note this must be set externally</span>
 21     <span class="literal">private</span> <span class="literal">boolean</span> isWin;<span class="comment">//stores whether state is a win for player currently moving. Note this must be set externally</span>
 22     <span class="literal">private</span> <span class="literal">boolean</span> isLoss;<span class="comment">//stores whether state is a loss for player currently moving. Note this must be set externally </span>
 23     <span class="literal">private</span> <span class="literal">boolean</span> hasFenBeenCreated=<span class="literal">false</span>;
 24     <span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> WHITE_MULTIPLIER=1;<span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> BLACK_MULTIPLIER=-1;
 25     <span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> ROOK_VALUE=5;<span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> BISHOP_VALUE =4;<span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> KNIGHT_VALUE=3;
 26     <span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> PAWN_VALUE=1;
 27     <span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> QUEEN_VALUE=8;<span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> KING_VALUE=100; <span class="literal">public</span> <span class="literal">static</span> <span class="literal">final</span> <span class="literal">int</span> EMPTY_VALUE=0;
 28     <span class="comment">/**</span>
 29 <span class="comment">     * </span><span class="ST0">Takes</span> <span class="ST0">the</span> <span class="ST0">FEN</span> <span class="ST0">String</span><span class="ST0"> (</span><span class="ST0">standard</span> <span class="ST0">representation</span> <span class="ST0">of</span> <span class="ST0">chess</span> <span class="ST0">board</span> <span class="ST0">as</span> <span class="ST0">input</span><span class="comment">)</span>
 30 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">fenString</span> <span class="comment">The</span> <span class="comment">FEN</span> <span class="comment">string</span><span class="comment">.</span> <span class="comment">For</span> <span class="comment">explanation</span> <span class="comment">of</span> <span class="comment">FEN</span> <span class="comment">format</span><span class="comment">, </span><span class="comment">view</span> <span class="comment">https</span><span class="comment">://</span><span class="comment">www</span><span class="comment">.</span><span class="comment">chess</span><span class="comment">.</span><span class="comment">com</span><span class="comment">/</span><span class="comment">terms</span><span class="comment">/</span><span class="comment">fen</span><span class="comment">-</span><span class="comment">chess</span>
 31      <span class="comment">*/</span>
 32     <span class="literal">public</span> ChessBoardState (String fenString){
 33         <span class="literal">this</span>.fenString=fenString;hasFenBeenCreated=<span class="literal">true</span>;
 34         String[]fenSplit = fenString.split(<span class="string">&quot;</span> <span class="string">&quot;</span>);<span class="comment">//splits the FEN String into its fields</span>
 35         <span class="comment">//generates board based on FEN String</span>
 36         String board[]=fenSplit[0].split(<span class="string">&quot;</span><span class="string">/</span><span class="string">&quot;</span>);<span class="comment">//splits the board data into ranks</span>
 37         <span class="literal">int</span> xIndex;<span class="comment">//stores current x index of piece</span>
 38         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){<span class="comment">//generates board data for each rank</span>
 39             xIndex=0;
 40             <span class="literal">for</span>(<span class="literal">int</span> ch=0;ch&lt;board[y].length();ch++){
 41                 <span class="literal">switch</span> (board[y].charAt(ch)) {
 42                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">r</span><span class="string">&#39;</span>:
 43                         BOARD[y][xIndex]=BLACK_MULTIPLIER*ROOK_VALUE;
 44                         xIndex++;
 45                         <span class="literal">break</span>;
 46                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">n</span><span class="string">&#39;</span>:
 47                         BOARD[y][xIndex]=BLACK_MULTIPLIER*KNIGHT_VALUE;
 48                         xIndex++;
 49                         <span class="literal">break</span>;
 50                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">b</span><span class="string">&#39;</span>:
 51                         BOARD[y][xIndex]=BLACK_MULTIPLIER*BISHOP_VALUE;
 52                         xIndex++;
 53                         <span class="literal">break</span>;
 54                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">q</span><span class="string">&#39;</span>:
 55                         BOARD[y][xIndex]=BLACK_MULTIPLIER*QUEEN_VALUE;
 56                         xIndex++;
 57                         <span class="literal">break</span>;
 58                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">k</span><span class="string">&#39;</span>:
 59                         BOARD[y][xIndex]=BLACK_MULTIPLIER*KING_VALUE;
 60                         xIndex++;
 61                         <span class="literal">break</span>;
 62                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">p</span><span class="string">&#39;</span>:
 63                         BOARD[y][xIndex]=BLACK_MULTIPLIER*PAWN_VALUE;
 64                         xIndex++;
 65                         <span class="literal">break</span>;
 66                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">N</span><span class="string">&#39;</span>:
 67                         BOARD[y][xIndex]=WHITE_MULTIPLIER*KNIGHT_VALUE;
 68                         xIndex++;
 69                         <span class="literal">break</span>;
 70                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">B</span><span class="string">&#39;</span>:
 71                         BOARD[y][xIndex]=WHITE_MULTIPLIER*BISHOP_VALUE;
 72                         xIndex++;
 73                         <span class="literal">break</span>;
 74                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">Q</span><span class="string">&#39;</span>:
 75                         BOARD[y][xIndex]=WHITE_MULTIPLIER*QUEEN_VALUE;
 76                         xIndex++;
 77                         <span class="literal">break</span>;
 78                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">K</span><span class="string">&#39;</span>:
 79                         BOARD[y][xIndex]=WHITE_MULTIPLIER*KING_VALUE;
 80                         xIndex++;
 81                         <span class="literal">break</span>;
 82                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">R</span><span class="string">&#39;</span>:
 83                         BOARD[y][xIndex]=WHITE_MULTIPLIER*ROOK_VALUE;
 84                         xIndex++;
 85                         <span class="literal">break</span>;
 86                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">P</span><span class="string">&#39;</span>:
 87                         BOARD[y][xIndex]=WHITE_MULTIPLIER*PAWN_VALUE;
 88                         xIndex++;
 89                         <span class="literal">break</span>;
 90                     <span class="literal">default</span>:
 91                         <span class="literal">for</span>(<span class="literal">int</span> emp=0;emp&lt;Character.getNumericValue(board[y].charAt(ch));emp++){
 92                             BOARD[y][xIndex]=EMPTY_VALUE;
 93                             xIndex++;
 94                         }   <span class="literal">break</span>;
 95                 }
 96             }
 97         }
 98         IS_BLACK_TURN_TO_PLAY_NEXT=fenSplit[1].equals(<span class="string">&quot;</span><span class="string">b</span><span class="string">&quot;</span>);<span class="comment">//gets who&#39;s move it is</span>
 99         <span class="comment">//gets castling rights</span>
100         <span class="comment">//stored in format White kingside, white queenside, black kingside, black queenside</span>
101         CASTLING_RIGHTS[0]=<span class="literal">false</span>;CASTLING_RIGHTS[1]=<span class="literal">false</span>;CASTLING_RIGHTS[2]=<span class="literal">false</span>;CASTLING_RIGHTS[3]=<span class="literal">false</span>;
102         <span class="literal">if</span>(!fenSplit[2].equals(<span class="string">&quot;</span><span class="string">-</span><span class="string">&quot;</span>)){
103             <span class="literal">for</span>(<span class="literal">int</span> ch =0;ch&lt;fenSplit[2].length();ch++){
104                 <span class="literal">switch</span> (fenSplit[2].charAt(ch)) {
105                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">K</span><span class="string">&#39;</span>:
106                         CASTLING_RIGHTS[0]=<span class="literal">true</span>;
107                         <span class="literal">break</span>;
108                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">Q</span><span class="string">&#39;</span>:
109                         CASTLING_RIGHTS[1]=<span class="literal">true</span>;
110                         <span class="literal">break</span>;
111                     <span class="literal">case</span> <span class="string">&#39;</span><span class="string">k</span><span class="string">&#39;</span>:
112                         CASTLING_RIGHTS[2]=<span class="literal">true</span>;
113                         <span class="literal">break</span>;
114                     <span class="literal">default</span>:
115                         CASTLING_RIGHTS[3]=<span class="literal">true</span>;
116                         <span class="literal">break</span>;
117                 }
118             }
119         }
120         <span class="comment">//gets possible en passant targets</span>
121         <span class="literal">if</span>(fenSplit[3].equals(<span class="string">&quot;</span><span class="string">-</span><span class="string">&quot;</span>)){
122             SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT=<span class="literal">new</span> <span class="literal">int</span>[0];<span class="comment">//no available squares</span>
123         }<span class="literal">else</span>{
124             SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT = getYAndXOfSquare(fenSplit[3]);<span class="comment">//one available en passant square</span>
125         }
126         <span class="comment">//gets half move clock</span>
127         HALF_MOVE_CLOCK=Integer.parseInt(fenSplit[4]);
128         <span class="comment">//gets full move number</span>
129         FULL_MOVE_NUMBER=Integer.parseInt(fenSplit[5]);
130     }
131     <span class="comment">/**</span>
132 <span class="comment">     * </span><span class="ST0">Creates</span> <span class="ST0">a</span> <span class="ST0">new</span> <span class="ST0">chess</span> <span class="ST0">board</span> <span class="ST0">state</span>
133 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">gameBoard</span> <span class="comment">The</span> <span class="comment">board</span> <span class="comment">array</span>
134 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">castlingRights</span> <span class="comment">The</span> <span class="comment">castling</span> <span class="comment">rights</span><span class="comment">.</span> <span class="comment">In</span> <span class="comment">the</span> <span class="comment">form</span><span class="comment">, </span><span class="comment">white</span> <span class="comment">kingside</span><span class="comment">, </span><span class="comment">white</span> <span class="comment">queen</span> <span class="comment">side</span><span class="comment">, </span><span class="comment">black</span> <span class="comment">kingside</span><span class="comment">, </span><span class="comment">black</span> <span class="comment">queen</span> <span class="comment">side</span>
135 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">isBlackToPlayNext</span> <span class="comment">whether</span> <span class="comment">black</span> <span class="comment">is</span> <span class="comment">to</span> <span class="comment">make</span> <span class="comment">the</span> <span class="comment">next</span> <span class="comment">move</span>
136 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">fullMoveNumber</span> <span class="comment">the</span> <span class="comment">number</span> <span class="comment">of</span> <span class="comment">moves</span> <span class="comment">black</span> <span class="comment">has</span> <span class="comment">played</span>
137 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">halfMoveClock</span> <span class="comment">the</span> <span class="comment">number</span> <span class="comment">of</span> <span class="comment">moves</span> <span class="comment">both</span> <span class="comment">players</span> <span class="comment">have</span> <span class="comment">made</span> <span class="comment">since</span> <span class="comment">the</span> <span class="comment">last</span> <span class="comment">pawn</span> <span class="comment">advance</span> <span class="comment">or</span> <span class="comment">capture</span>
138 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">enPassantSquare</span> <span class="comment">the</span> <span class="comment">y</span> <span class="comment">and</span> <span class="comment">x</span> <span class="comment">coordinates</span> <span class="comment">of</span> <span class="comment">a</span> <span class="comment">square</span> <span class="comment">that</span> <span class="comment">can</span> <span class="comment">be</span> <span class="comment">captured</span> <span class="comment">via</span> <span class="comment">en</span> <span class="comment">passant</span><span class="comment">.</span> <span class="comment">If</span> <span class="comment">no</span> <span class="comment">such</span> <span class="comment">square</span> <span class="comment">exists</span><span class="comment">, </span><span class="comment">use</span> <span class="comment">new</span> <span class="comment">int</span><span class="comment">[0]</span>
139      <span class="comment">*/</span>
140     <span class="literal">public</span> ChessBoardState(<span class="literal">int</span>[][]gameBoard,<span class="literal">boolean</span> castlingRights[],<span class="literal">boolean</span> isBlackToPlayNext, <span class="literal">int</span> fullMoveNumber,<span class="literal">int</span> halfMoveClock,<span class="literal">int</span>[]enPassantSquare){
141         <span class="comment">//stores board</span>
142         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){<span class="comment">//generates board</span>
143             <span class="literal">for</span>(<span class="literal">int</span> x =0;x&lt;8;x++){
144                 BOARD[y][x]=gameBoard[y][x];
145             }
146         }
147         CASTLING_RIGHTS[0]=castlingRights[0];CASTLING_RIGHTS[1]=castlingRights[1];CASTLING_RIGHTS[2]=castlingRights[2];CASTLING_RIGHTS[3]=castlingRights[3];
148         IS_BLACK_TURN_TO_PLAY_NEXT=isBlackToPlayNext;
149         FULL_MOVE_NUMBER=fullMoveNumber;
150         HALF_MOVE_CLOCK=halfMoveClock;
151         <span class="literal">if</span>(enPassantSquare.length==0){
152             SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT= <span class="literal">new</span> <span class="literal">int</span>[0];
153         }<span class="literal">else</span>{
154             SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT=<span class="literal">new</span> <span class="literal">int</span> [2];
155             SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[0]=enPassantSquare[0];
156             SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[1]=enPassantSquare[1];
157         }
158     }
159     <span class="literal">public</span> <span class="literal">int</span>[]getNeuralNetInputReducedSize(){
160         <span class="literal">int</span> data[]=<span class="literal">new</span> <span class="literal">int</span>[64+4+2+1];
161         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){
162             <span class="literal">for</span>(<span class="literal">int</span> x=0;x&lt;8;x++){
163                 data[8*y +x]=BOARD[y][x];
164             }
165         }
166         <span class="literal">if</span>(IS_BLACK_TURN_TO_PLAY_NEXT){
167             data[64]=1;
168         }
169         <span class="literal">if</span>(CASTLING_RIGHTS[0]){
170             data[65]=1;
171         }
172         <span class="literal">if</span>(CASTLING_RIGHTS[1]){
173             data[66]=1;
174         }
175         <span class="literal">if</span>(CASTLING_RIGHTS[2]){
176             data[67]=1;
177         }
178         <span class="literal">if</span>(CASTLING_RIGHTS[3]){
179             data[68]=1;
180         }
181         <span class="literal">if</span>(SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT.length==2){
182             data[69]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[0];
183             data[70]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[1];
184         }
185         <span class="literal">return</span> data;
186     }
187     <span class="literal">public</span> <span class="literal">double</span>[]getNeuralNetInputDouble(){
188         <span class="literal">double</span> data[]= <span class="literal">new</span> <span class="literal">double</span> [777];<span class="comment">//creates the array that stores the neural network attributes</span>
189         <span class="comment">//stores castling rights</span>
190         <span class="literal">if</span>(CASTLING_RIGHTS[0]){
191             data[768]=1;
192         }
193         <span class="literal">if</span>(CASTLING_RIGHTS[1]){
194             data[769]=1;
195         }
196         <span class="literal">if</span>(CASTLING_RIGHTS[2]){
197             data[770]=1;
198         }
199         <span class="literal">if</span>(CASTLING_RIGHTS[3]){
200             data[771]=1;
201         }
202         <span class="comment">//stores who is going to play next</span>
203         <span class="literal">if</span>(IS_BLACK_TURN_TO_PLAY_NEXT){
204             data[772]=1;
205         }
206         <span class="comment">//sets half move data</span>
207         data[773]=HALF_MOVE_CLOCK;
208         <span class="comment">//sets en passant data</span>
209         data[775]=9;data[776]=9;
210         <span class="literal">if</span>(SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT.length==2){
211             data[774]=1;data[775]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[0];data[776]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[1];
212         }
213         <span class="comment">//generates bitboard data</span>
214         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){
215             <span class="literal">for</span>(<span class="literal">int</span> x=0;x&lt;8;x++){
216                 <span class="literal">switch</span> (BOARD[y][x]) {
217                     <span class="literal">case</span> WHITE_MULTIPLIER*KING_VALUE:
218                         data[x+(8*y)]=1;
219                         <span class="literal">break</span>;
220                     <span class="literal">case</span> BLACK_MULTIPLIER*KING_VALUE:
221                         data[x+(8*y)+64]=1;
222                         <span class="literal">break</span>;
223                     <span class="literal">case</span> WHITE_MULTIPLIER*ROOK_VALUE:
224                         data[x+(8*y)+128]=1;
225                         <span class="literal">break</span>;
226                     <span class="literal">case</span> BLACK_MULTIPLIER*ROOK_VALUE:
227                         data[x+(8*y)+192]=1;
228                         <span class="literal">break</span>;
229                     <span class="literal">case</span> WHITE_MULTIPLIER*BISHOP_VALUE:
230                         data[x+(8*y)+256]=1;
231                         <span class="literal">break</span>;
232                     <span class="literal">case</span> BLACK_MULTIPLIER*BISHOP_VALUE:
233                         data[x+(8*y)+320]=1;
234                         <span class="literal">break</span>;
235                     <span class="literal">case</span> WHITE_MULTIPLIER*QUEEN_VALUE:
236                         data[x+(8*y)+384]=1;
237                         <span class="literal">break</span>;
238                     <span class="literal">case</span> BLACK_MULTIPLIER*QUEEN_VALUE:
239                         data[x+(8*y)+448]=1;
240                         <span class="literal">break</span>;
241                     <span class="literal">case</span> WHITE_MULTIPLIER*PAWN_VALUE:
242                         data[x+(8*y)+512]=1;
243                         <span class="literal">break</span>;
244                     <span class="literal">case</span> BLACK_MULTIPLIER*PAWN_VALUE:
245                         data[x+(8*y)+576]=1;
246                         <span class="literal">break</span>;
247                     <span class="literal">case</span> WHITE_MULTIPLIER*KNIGHT_VALUE:
248                         data[x+(8*y)+640]=1;
249                         <span class="literal">break</span>;
250                     <span class="literal">case</span> BLACK_MULTIPLIER*KNIGHT_VALUE:
251                         data[x+(8*y)+704]=1;
252                         <span class="literal">break</span>;
253                     <span class="literal">default</span>:
254                         <span class="literal">break</span>;
255                 }
256             }
257         }
258         <span class="literal">return</span> data;        
259     }
260     <span class="comment">/**</span>
261 <span class="comment">     * </span><span class="ST0">Gets</span> <span class="ST0">the</span> <span class="ST0">string</span> <span class="ST0">used</span> <span class="ST0">for</span> <span class="ST0">the</span> <span class="ST0">neural</span> <span class="ST0">network</span> <span class="ST0">input</span> <span class="ST0">given</span> <span class="ST0">the</span> <span class="ST0">current</span> <span class="ST0">board</span> <span class="ST0">state</span>
262 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">The</span> <span class="comment">input</span> <span class="comment">to</span> <span class="comment">the</span> <span class="comment">neural</span> <span class="comment">network</span>
263      <span class="comment">*/</span>
264     <span class="literal">public</span> <span class="literal">int</span>[] getNeuralNetInput(){
265         <span class="literal">int</span> data[]= <span class="literal">new</span> <span class="literal">int</span> [777];<span class="comment">//creates the array that stores the neural network attributes</span>
266         <span class="comment">//stores castling rights</span>
267         <span class="literal">if</span>(CASTLING_RIGHTS[0]){
268             data[768]=1;
269         }
270         <span class="literal">if</span>(CASTLING_RIGHTS[1]){
271             data[769]=1;
272         }
273         <span class="literal">if</span>(CASTLING_RIGHTS[2]){
274             data[770]=1;
275         }
276         <span class="literal">if</span>(CASTLING_RIGHTS[3]){
277             data[771]=1;
278         }
279         <span class="comment">//stores who is going to play next</span>
280         <span class="literal">if</span>(IS_BLACK_TURN_TO_PLAY_NEXT){
281             data[772]=1;
282         }
283         <span class="comment">//sets half move data</span>
284         data[773]=HALF_MOVE_CLOCK;
285         <span class="comment">//sets en passant data</span>
286         data[775]=9;data[776]=9;
287         <span class="literal">if</span>(SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT.length==2){
288             data[774]=1;data[775]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[0];data[776]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[1];
289         }
290         <span class="comment">//generates bitboard data</span>
291         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){
292             <span class="literal">for</span>(<span class="literal">int</span> x=0;x&lt;8;x++){
293                 <span class="literal">switch</span> (BOARD[y][x]) {
294                     <span class="literal">case</span> WHITE_MULTIPLIER*KING_VALUE:
295                         data[x+(8*y)]=1;
296                         <span class="literal">break</span>;
297                     <span class="literal">case</span> BLACK_MULTIPLIER*KING_VALUE:
298                         data[x+(8*y)+64]=1;
299                         <span class="literal">break</span>;
300                     <span class="literal">case</span> WHITE_MULTIPLIER*ROOK_VALUE:
301                         data[x+(8*y)+128]=1;
302                         <span class="literal">break</span>;
303                     <span class="literal">case</span> BLACK_MULTIPLIER*ROOK_VALUE:
304                         data[x+(8*y)+192]=1;
305                         <span class="literal">break</span>;
306                     <span class="literal">case</span> WHITE_MULTIPLIER*BISHOP_VALUE:
307                         data[x+(8*y)+256]=1;
308                         <span class="literal">break</span>;
309                     <span class="literal">case</span> BLACK_MULTIPLIER*BISHOP_VALUE:
310                         data[x+(8*y)+320]=1;
311                         <span class="literal">break</span>;
312                     <span class="literal">case</span> WHITE_MULTIPLIER*QUEEN_VALUE:
313                         data[x+(8*y)+384]=1;
314                         <span class="literal">break</span>;
315                     <span class="literal">case</span> BLACK_MULTIPLIER*QUEEN_VALUE:
316                         data[x+(8*y)+448]=1;
317                         <span class="literal">break</span>;
318                     <span class="literal">case</span> WHITE_MULTIPLIER*PAWN_VALUE:
319                         data[x+(8*y)+512]=1;
320                         <span class="literal">break</span>;
321                     <span class="literal">case</span> BLACK_MULTIPLIER*PAWN_VALUE:
322                         data[x+(8*y)+576]=1;
323                         <span class="literal">break</span>;
324                     <span class="literal">case</span> WHITE_MULTIPLIER*KNIGHT_VALUE:
325                         data[x+(8*y)+640]=1;
326                         <span class="literal">break</span>;
327                     <span class="literal">case</span> BLACK_MULTIPLIER*KNIGHT_VALUE:
328                         data[x+(8*y)+704]=1;
329                         <span class="literal">break</span>;
330                     <span class="literal">default</span>:
331                         <span class="literal">break</span>;
332                 }
333             }
334         }
335         <span class="literal">return</span> data;
336     }
337     <span class="comment">/**</span>
338 <span class="comment">     * </span><span class="ST0">Gets</span> <span class="ST0">FEN</span> <span class="ST0">string</span> <span class="ST0">from</span> <span class="ST0">board</span> <span class="ST0">state</span>
339 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">The</span> <span class="comment">FEN</span> <span class="comment">String</span>
340      <span class="comment">*/</span>
341     <span class="literal">public</span> String getFenString(){
342         <span class="literal">if</span>(<span class="literal">this</span>.hasFenBeenCreated){
343             <span class="literal">return</span> <span class="literal">this</span>.fenString;
344         }
345         String fenStringBoard=<span class="string">&quot;&quot;</span>;<span class="comment">//stores board as FEN string</span>
346         <span class="literal">int</span> noOfEmptySquares;<span class="comment">//stores the number of empty squares next to each other in a row</span>
347         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){<span class="comment">//generates board and FEN String for the board</span>
348             <span class="literal">if</span>(y!=0){
349                 fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">/</span><span class="string">&quot;</span>;
350             }
351             noOfEmptySquares=0;
352             <span class="literal">for</span>(<span class="literal">int</span> x =0;x&lt;8;x++){
353                 <span class="literal">switch</span> (BOARD[y][x]) {
354                     <span class="literal">case</span> EMPTY_VALUE:
355                         noOfEmptySquares++;
356                         <span class="literal">if</span>(x==7){
357                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
358                         }   <span class="literal">break</span>;
359                     <span class="literal">case</span> BLACK_MULTIPLIER*ROOK_VALUE:
360                         <span class="literal">if</span>(noOfEmptySquares!=0){
361                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
362                             noOfEmptySquares=0;
363                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">r</span><span class="string">&quot;</span>;
364                         <span class="literal">break</span>;
365                     <span class="literal">case</span> BLACK_MULTIPLIER*KNIGHT_VALUE:
366                         <span class="literal">if</span>(noOfEmptySquares!=0){
367                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
368                             noOfEmptySquares=0;
369                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">n</span><span class="string">&quot;</span>;
370                         <span class="literal">break</span>;
371                     <span class="literal">case</span> BLACK_MULTIPLIER*BISHOP_VALUE:
372                         <span class="literal">if</span>(noOfEmptySquares!=0){
373                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
374                             noOfEmptySquares=0;
375                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">b</span><span class="string">&quot;</span>;
376                         <span class="literal">break</span>;
377                     <span class="literal">case</span> BLACK_MULTIPLIER*QUEEN_VALUE:
378                         <span class="literal">if</span>(noOfEmptySquares!=0){
379                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
380                             noOfEmptySquares=0;
381                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">q</span><span class="string">&quot;</span>;
382                         <span class="literal">break</span>;
383                     <span class="literal">case</span> BLACK_MULTIPLIER*KING_VALUE:
384                         <span class="literal">if</span>(noOfEmptySquares!=0){
385                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
386                             noOfEmptySquares=0;
387                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">k</span><span class="string">&quot;</span>;
388                         <span class="literal">break</span>;
389                     <span class="literal">case</span> BLACK_MULTIPLIER*PAWN_VALUE:
390                         <span class="literal">if</span>(noOfEmptySquares!=0){
391                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
392                             noOfEmptySquares=0;
393                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">p</span><span class="string">&quot;</span>;
394                         <span class="literal">break</span>;
395                     <span class="literal">case</span> WHITE_MULTIPLIER*ROOK_VALUE:
396                         <span class="literal">if</span>(noOfEmptySquares!=0){
397                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
398                             noOfEmptySquares=0;
399                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">R</span><span class="string">&quot;</span>;
400                         <span class="literal">break</span>;
401                     <span class="literal">case</span> WHITE_MULTIPLIER*KNIGHT_VALUE:
402                         <span class="literal">if</span>(noOfEmptySquares!=0){
403                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
404                             noOfEmptySquares=0;
405                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">N</span><span class="string">&quot;</span>;
406                         <span class="literal">break</span>;
407                     <span class="literal">case</span> WHITE_MULTIPLIER*BISHOP_VALUE:
408                         <span class="literal">if</span>(noOfEmptySquares!=0){
409                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
410                             noOfEmptySquares=0;
411                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">B</span><span class="string">&quot;</span>;
412                         <span class="literal">break</span>;
413                     <span class="literal">case</span> WHITE_MULTIPLIER*QUEEN_VALUE:
414                         <span class="literal">if</span>(noOfEmptySquares!=0){
415                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
416                             noOfEmptySquares=0;
417                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">Q</span><span class="string">&quot;</span>;
418                         <span class="literal">break</span>;
419                     <span class="literal">case</span> WHITE_MULTIPLIER*KING_VALUE:
420                         <span class="literal">if</span>(noOfEmptySquares!=0){
421                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
422                             noOfEmptySquares=0;
423                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">K</span><span class="string">&quot;</span>;
424                         <span class="literal">break</span>;
425                     <span class="literal">case</span> WHITE_MULTIPLIER*PAWN_VALUE:
426                         <span class="literal">if</span>(noOfEmptySquares!=0){
427                             fenStringBoard=fenStringBoard+String.valueOf(noOfEmptySquares);
428                             noOfEmptySquares=0;
429                         }   fenStringBoard=fenStringBoard+<span class="string">&quot;</span><span class="string">P</span><span class="string">&quot;</span>;
430                         <span class="literal">break</span>;
431                     <span class="literal">default</span>:
432                         <span class="literal">break</span>;
433                 }
434             }
435         }
436         String fenCastlingRights=<span class="string">&quot;&quot;</span>;
437         <span class="literal">if</span>(CASTLING_RIGHTS[0]){
438             fenCastlingRights=<span class="string">&quot;</span><span class="string">K</span><span class="string">&quot;</span>;
439         }
440         <span class="literal">if</span>(CASTLING_RIGHTS[1]){
441             fenCastlingRights=fenCastlingRights+<span class="string">&quot;</span><span class="string">Q</span><span class="string">&quot;</span>;
442         }
443         <span class="literal">if</span>(CASTLING_RIGHTS[2]){
444             fenCastlingRights=fenCastlingRights+<span class="string">&quot;</span><span class="string">k</span><span class="string">&quot;</span>;
445         }
446         <span class="literal">if</span>(CASTLING_RIGHTS[3]){
447             fenCastlingRights=fenCastlingRights+<span class="string">&quot;</span><span class="string">q</span><span class="string">&quot;</span>;
448         }
449         <span class="literal">if</span>(fenCastlingRights.equals(<span class="string">&quot;&quot;</span>)){
450             fenCastlingRights=<span class="string">&quot;</span><span class="string">-</span><span class="string">&quot;</span>;
451         }
452         String fenColourToPlay=<span class="string">&quot;&quot;</span>;
453         <span class="literal">if</span>(IS_BLACK_TURN_TO_PLAY_NEXT){
454             fenColourToPlay=<span class="string">&quot;</span><span class="string">b</span><span class="string">&quot;</span>;
455         }<span class="literal">else</span>{
456             fenColourToPlay=<span class="string">&quot;</span><span class="string">w</span><span class="string">&quot;</span>;
457         }
458         String enPassantSquareFen=<span class="string">&quot;</span><span class="string">-</span><span class="string">&quot;</span>;
459         <span class="literal">if</span>(SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT.length==2){
460             enPassantSquareFen=getStringOfSquare(SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[0], SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[1]);
461         }
462         <span class="literal">this</span>.fenString=fenStringBoard+<span class="string">&quot;</span> <span class="string">&quot;</span>+fenColourToPlay+<span class="string">&quot;</span> <span class="string">&quot;</span>+fenCastlingRights+<span class="string">&quot;</span> <span class="string">&quot;</span>+enPassantSquareFen+<span class="string">&quot;</span> <span class="string">&quot;</span>+String.valueOf(HALF_MOVE_CLOCK)+<span class="string">&quot;</span> <span class="string">&quot;</span>+String.valueOf(FULL_MOVE_NUMBER); 
463         <span class="literal">this</span>.hasFenBeenCreated=<span class="literal">true</span>;
464         <span class="literal">return</span> <span class="literal">this</span>.fenString;
465     }
466     <span class="comment">/**</span>
467 <span class="comment">     * </span><span class="ST0">Gets</span> <span class="ST0">the</span> <span class="ST0">string</span> <span class="ST0">value</span> <span class="ST0">of</span> <span class="ST0">a</span> <span class="ST0">square</span> <span class="ST0">given</span> <span class="ST0">its</span> <span class="ST0">y</span> <span class="ST0">and</span> <span class="ST0">x</span> <span class="ST0">coordinates</span><span class="ST0">.</span> <span class="comment">E</span><span class="comment">.</span><span class="comment">g</span><span class="comment">.</span> <span class="comment">getStringOfSquare</span><span class="comment">(1,0) = &quot;</span><span class="comment">a7</span><span class="comment">&quot;</span>
468 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">y</span> <span class="comment">The</span> <span class="comment">y</span> <span class="comment">index</span> <span class="comment">in</span> <span class="comment">the</span> <span class="comment">board</span> <span class="comment">array</span>
469 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">x</span> <span class="comment">The</span> <span class="comment">x</span> <span class="comment">index</span> <span class="comment">in</span> <span class="comment">the</span> <span class="comment">board</span> <span class="comment">array</span>
470 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">The</span> <span class="comment">square</span>
471      <span class="comment">*/</span>
472     <span class="literal">private</span> <span class="literal">static</span> String getStringOfSquare(<span class="literal">int</span> y, <span class="literal">int</span> x){
473         <span class="literal">switch</span> (x) {
474             <span class="literal">case</span> 0:
475                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">a</span><span class="string">&quot;</span>+String.valueOf(8-y);
476             <span class="literal">case</span> 1:
477                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">b</span><span class="string">&quot;</span>+String.valueOf(8-y);
478             <span class="literal">case</span> 2:
479                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">c</span><span class="string">&quot;</span>+String.valueOf(8-y);
480             <span class="literal">case</span> 3:
481                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">d</span><span class="string">&quot;</span>+String.valueOf(8-y);
482             <span class="literal">case</span> 4:
483                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">e</span><span class="string">&quot;</span>+String.valueOf(8-y);
484             <span class="literal">case</span> 5:
485                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">f</span><span class="string">&quot;</span>+String.valueOf(8-y);
486             <span class="literal">case</span> 6:
487                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">g</span><span class="string">&quot;</span>+String.valueOf(8-y);
488             <span class="literal">default</span>:
489                 <span class="literal">return</span> <span class="string">&quot;</span><span class="string">h</span><span class="string">&quot;</span>+String.valueOf(8-y);
490         }
491     }
492     <span class="comment">/**</span>
493 <span class="comment">     * </span><span class="ST0">Takes</span> <span class="ST0">a</span> <span class="ST0">chess</span> <span class="ST0">square</span><span class="ST0">, </span><span class="ST0">such</span> <span class="ST0">as</span><span class="ST0"> &quot;</span><span class="ST0">a3</span><span class="ST0">&quot; </span><span class="ST0">as</span> <span class="ST0">input</span> <span class="ST0">and</span> <span class="ST0">returns</span> <span class="ST0">the</span> <span class="ST0">y</span> <span class="ST0">and</span> <span class="ST0">x</span> <span class="ST0">coordinates</span> <span class="ST0">of</span> <span class="ST0">the</span> <span class="ST0">square</span> <span class="ST0">on</span> <span class="ST0">the</span> <span class="ST0">board</span>
494 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">square</span> <span class="comment">The</span> <span class="comment">square</span>
495 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">An</span> <span class="comment">int</span> <span class="comment">array</span> <span class="comment">of</span> <span class="comment">length</span><span class="comment"> [2], </span><span class="comment">with</span> <span class="comment">the</span> <span class="comment">y</span> <span class="comment">and</span> <span class="comment">x</span> <span class="comment">index</span> <span class="comment">for</span> <span class="comment">the</span> <span class="comment">board</span> <span class="comment">array</span>
496      <span class="comment">*/</span>
497     <span class="literal">private</span> <span class="literal">static</span> <span class="literal">int</span>[] getYAndXOfSquare(String square){
498         <span class="literal">int</span>[]ret = <span class="literal">new</span> <span class="literal">int</span>[2];
499         ret[0]=8-Character.getNumericValue(square.charAt(1));
500         <span class="literal">switch</span> (square.charAt(0)) {
501             <span class="literal">case</span> <span class="string">&#39;</span><span class="string">a</span><span class="string">&#39;</span>:
502                 ret[1]=0;
503                 <span class="literal">break</span>;
504             <span class="literal">case</span> <span class="string">&#39;</span><span class="string">b</span><span class="string">&#39;</span>:
505                 ret[1]=1;
506                 <span class="literal">break</span>;
507             <span class="literal">case</span> <span class="string">&#39;</span><span class="string">c</span><span class="string">&#39;</span>:
508                 ret[1]=2;
509                 <span class="literal">break</span>;
510             <span class="literal">case</span> <span class="string">&#39;</span><span class="string">d</span><span class="string">&#39;</span>:
511                 ret[1]=3;
512                 <span class="literal">break</span>;
513             <span class="literal">case</span> <span class="string">&#39;</span><span class="string">e</span><span class="string">&#39;</span>:
514                 ret[1]=4;
515                 <span class="literal">break</span>;
516             <span class="literal">case</span> <span class="string">&#39;</span><span class="string">f</span><span class="string">&#39;</span>:
517                 ret[1]=5;
518                 <span class="literal">break</span>;
519             <span class="literal">case</span> <span class="string">&#39;</span><span class="string">g</span><span class="string">&#39;</span>:
520                 ret[1]=6;
521                 <span class="literal">break</span>;
522             <span class="literal">default</span>:
523                 ret[1]=7;
524                 <span class="literal">break</span>;
525         }
526         <span class="literal">return</span> ret;
527     }
528     <span class="comment">/**</span>
529 <span class="comment">     * </span><span class="ST0">Gets</span> <span class="ST0">a</span> <span class="ST0">copy</span> <span class="ST0">of</span> <span class="ST0">the</span> <span class="ST0">board</span> <span class="ST0">array</span><span class="ST0">.</span> <span class="comment">use</span> <span class="comment">this</span> <span class="comment">when</span> <span class="comment">writing</span> <span class="comment">with</span> <span class="comment">board</span>
530 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">A</span> <span class="comment">copy</span> <span class="comment">of</span> <span class="comment">the</span> <span class="comment">board</span> <span class="comment">array</span>
531      <span class="comment">*/</span>
532     <span class="literal">public</span> <span class="literal">int</span>[][]getCopyOfBoard(){
533         <span class="literal">int</span>[][]board=<span class="literal">new</span> <span class="literal">int</span>[8][8];
534         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){
535             <span class="literal">for</span>(<span class="literal">int</span> x=0;x&lt;8;x++){
536                 board[y][x]=BOARD[y][x];
537             }
538         }
539         <span class="literal">return</span> board;
540     }
541     <span class="comment">/**</span>
542 <span class="comment">     * </span><span class="ST0">Returns</span> <span class="ST0">a</span> <span class="ST0">copy</span> <span class="ST0">of</span> <span class="ST0">the</span> <span class="ST0">castling</span> <span class="ST0">rights</span> <span class="ST0">array</span>
543 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">The</span> <span class="comment">castling</span> <span class="comment">rights</span>
544      <span class="comment">*/</span>
545     <span class="literal">public</span> <span class="literal">boolean</span> []getCopyOfCastlingRights(){
546         <span class="literal">boolean</span> rights []=<span class="literal">new</span> <span class="literal">boolean</span>[4];
547         <span class="literal">for</span>(<span class="literal">int</span> i=0;i&lt;4;i++){
548             rights[i]=CASTLING_RIGHTS[i];
549         }
550         <span class="literal">return</span> rights;
551     }
552     <span class="comment">/**</span>
553 <span class="comment">     * </span><span class="ST0">Gets</span> <span class="ST0">a</span> <span class="ST0">copy</span> <span class="ST0">of</span> <span class="ST0">the</span> <span class="ST0">en</span> <span class="ST0">passant</span> <span class="ST0">square</span> <span class="ST0">array</span> <span class="ST0">and</span> <span class="ST0">returns</span> <span class="ST0">it</span><span class="ST0">.</span>
554 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">The</span> <span class="comment">copy</span> <span class="comment">of</span> <span class="comment">the</span> <span class="comment">array</span>
555      <span class="comment">*/</span>
556     <span class="literal">public</span> <span class="literal">int</span>[]getCopyOfEnPassantSquare(){
557         <span class="literal">int</span> ret[]=<span class="literal">new</span> <span class="literal">int</span>[SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT.length];
558         <span class="literal">for</span>(<span class="literal">int</span> i=0;i&lt;ret.length;i++){
559             ret[i]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[i];
560         }
561         <span class="literal">return</span> ret;
562     }
563     <span class="comment">/**</span>
564 <span class="comment">     * </span><span class="ST0">Returns</span> <span class="ST0">whether</span> <span class="ST0">this</span> <span class="ST0">game</span> <span class="ST0">is</span> <span class="ST0">a</span> <span class="ST0">win</span><span class="ST0">.</span> <span class="comment">Note</span> <span class="comment">this</span> <span class="comment">variable</span> <span class="comment">may</span> <span class="comment">not</span> <span class="comment">be</span> <span class="comment">initialised</span> <span class="comment">and</span> <span class="comment">can</span> <span class="comment">only</span> <span class="comment">be</span> <span class="comment">set</span> <span class="comment">by</span> <span class="comment">external</span> <span class="comment">methods</span><span class="comment">.</span> <span class="comment">Hence</span><span class="comment">, </span><span class="comment">only</span>
565 <span class="comment">     * </span><span class="comment">call</span> <span class="comment">this</span> <span class="comment">method</span> <span class="comment">if</span> <span class="comment">you</span> <span class="comment">are</span> <span class="comment">certain</span> <span class="comment">that</span> <span class="comment">the</span> <span class="comment">board</span> <span class="comment">state</span> <span class="comment">has</span> <span class="comment">been</span> <span class="comment">set</span><span class="comment">.</span>
566 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">Whether</span> <span class="comment">the</span> <span class="comment">board</span> <span class="comment">is</span> <span class="comment">a</span> <span class="comment">win</span> <span class="comment">for</span> <span class="comment">the</span> <span class="comment">current</span> <span class="comment">user</span>
567      <span class="comment">*/</span>
568     
569     <span class="literal">public</span> <span class="literal">boolean</span> getIsWin(){
570         <span class="literal">return</span> <span class="literal">this</span>.isWin;
571     }
572     <span class="comment">/**</span>
573 <span class="comment">     * </span><span class="ST0">Returns</span> <span class="ST0">whether</span> <span class="ST0">this</span> <span class="ST0">game</span> <span class="ST0">is</span> <span class="ST0">a</span> <span class="ST0">draw</span><span class="ST0">.</span> <span class="comment">Note</span><span class="comment">: </span><span class="comment">this</span> <span class="comment">variable</span> <span class="comment">is</span> <span class="comment">not</span> <span class="comment">automatically</span> <span class="comment">initialised</span> <span class="comment">and</span> <span class="comment">is</span> <span class="comment">set</span> <span class="comment">externally</span><span class="comment">.</span>
574 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">Whether</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">is</span> <span class="comment">a</span> <span class="comment">draw</span>
575      <span class="comment">*/</span>
576     <span class="literal">public</span> <span class="literal">boolean</span> getIsDraw(){
577         <span class="literal">return</span> <span class="literal">this</span>.isDraw;
578     }
579     <span class="comment">/**</span>
580 <span class="comment">     * </span><span class="ST0">Returns</span> <span class="ST0">whether</span> <span class="ST0">this</span> <span class="ST0">game</span> <span class="ST0">is</span> <span class="ST0">a</span> <span class="ST0">loss</span> <span class="ST0">for</span> <span class="ST0">the</span> <span class="ST0">user</span> <span class="ST0">to</span> <span class="ST0">play</span> <span class="ST0">currently</span><span class="ST0">.</span> <span class="comment">Note</span> <span class="comment">this</span> <span class="comment">variable</span> <span class="comment">is</span> <span class="comment">not</span> <span class="comment">automatically</span> <span class="comment">initialised</span><span class="comment">, </span><span class="comment">so</span> <span class="comment">only</span> <span class="comment">call</span> <span class="comment">this</span> <span class="comment">method</span> <span class="comment">if</span> <span class="comment">the</span> <span class="comment">variable</span> <span class="comment">has</span> <span class="comment">been</span> <span class="comment">initialised</span><span class="comment">.</span>
581 <span class="comment">     * </span><span class="ST0">@return</span> <span class="comment">Whether</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">is</span> <span class="comment">a</span> <span class="comment">loss</span>
582      <span class="comment">*/</span>
583     <span class="literal">public</span> <span class="literal">boolean</span> getIsLoss(){
584         <span class="literal">return</span> <span class="literal">this</span>.isLoss;
585     }
586     <span class="comment">/**</span>
587 <span class="comment">     * </span><span class="comment">Sets</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">as</span> <span class="comment">win</span>
588      <span class="comment">*/</span>
589     <span class="literal">public</span> <span class="literal">void</span> setIsWinTrue(){
590         <span class="literal">this</span>.isWin=<span class="literal">true</span>;<span class="literal">this</span>.isLoss=<span class="literal">false</span>;<span class="literal">this</span>.isDraw=<span class="literal">false</span>;
591     }
592     <span class="comment">/**</span>
593 <span class="comment">     * </span><span class="comment">Sets</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">as</span> <span class="comment">a</span> <span class="comment">draw</span>
594      <span class="comment">*/</span>
595     <span class="literal">public</span> <span class="literal">void</span> setIsDrawTrue(){
596         <span class="literal">this</span>.isDraw=<span class="literal">true</span>;<span class="literal">this</span>.isLoss=<span class="literal">false</span>;<span class="literal">this</span>.isWin=<span class="literal">false</span>;
597     }
598     <span class="comment">/**</span>
599 <span class="comment">     * </span><span class="comment">Sets</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">as</span> <span class="comment">a</span> <span class="comment">loss</span>
600      <span class="comment">*/</span>
601     <span class="literal">public</span> <span class="literal">void</span> setIsLossTrue(){
602         <span class="literal">this</span>.isLoss=<span class="literal">true</span>;<span class="literal">this</span>.isDraw=<span class="literal">false</span>;<span class="literal">this</span>.isWin=<span class="literal">false</span>;
603     }
604     <span class="comment">/**</span>
605 <span class="comment">     * </span><span class="ST0">Sets</span> <span class="ST0">the</span> <span class="ST0">FEN</span> <span class="ST0">string</span> <span class="ST0">if</span> <span class="ST0">it</span> <span class="ST0">has</span> <span class="ST0">already</span> <span class="ST0">been</span> <span class="ST0">created</span>
606 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">fen</span> <span class="comment">The</span> <span class="comment">FEN</span> 
607      <span class="comment">*/</span>
608     <span class="literal">private</span> <span class="literal">void</span> setFen(String fen){
609         <span class="literal">this</span>.fenString=fen;
610     }
611     <span class="comment">/**</span>
612 <span class="comment">     * </span><span class="ST0">Sets</span> <span class="ST0">whether</span> <span class="ST0">the</span> <span class="ST0">FEN</span> <span class="ST0">has</span> <span class="ST0">been</span> <span class="ST0">created</span>
613 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">hasFenBeenCreated</span> <span class="comment">Has</span> <span class="comment">the</span> <span class="comment">FEN</span> <span class="comment">been</span> <span class="comment">created</span>
614      <span class="comment">*/</span>
615     <span class="literal">private</span> <span class="literal">void</span> setHasFenBeenCreated(<span class="literal">boolean</span> hasFenBeenCreated){
616         <span class="literal">this</span>.hasFenBeenCreated=hasFenBeenCreated;
617     }
618     <span class="comment">/**</span>
619 <span class="comment">     * </span><span class="ST0">Sets</span> <span class="ST0">whether</span> <span class="ST0">the</span> <span class="ST0">game</span> <span class="ST0">is</span> <span class="ST0">a</span> <span class="ST0">loss</span>
620 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">isLoss</span> <span class="comment">Whether</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">is</span> <span class="comment">a</span> <span class="comment">loss</span>
621      <span class="comment">*/</span>
622     <span class="literal">private</span> <span class="literal">void</span> setIsLoss(<span class="literal">boolean</span> isLoss){
623         <span class="literal">this</span>.isLoss=isLoss;
624     }
625     <span class="comment">/**</span>
626 <span class="comment">     * </span><span class="ST0">Sets</span> <span class="ST0">whether</span> <span class="ST0">the</span> <span class="ST0">game</span> <span class="ST0">is</span> <span class="ST0">a</span> <span class="ST0">draw</span>
627 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">isDraw</span> <span class="comment">Whether</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">is</span> <span class="comment">a</span> <span class="comment">draw</span>
628      <span class="comment">*/</span>
629     <span class="literal">private</span> <span class="literal">void</span> setIsDraw(<span class="literal">boolean</span> isDraw){
630         <span class="literal">this</span>.isDraw=isDraw;
631     }
632     <span class="comment">/**</span>
633 <span class="comment">     * </span><span class="ST0">Sets</span> <span class="ST0">whether</span> <span class="ST0">the</span> <span class="ST0">game</span> <span class="ST0">is</span> <span class="ST0">a</span> <span class="ST0">win</span>
634 <span class="comment">     * </span><span class="ST0">@param</span> <span class="comment">isWin</span> <span class="comment">Whether</span> <span class="comment">the</span> <span class="comment">game</span> <span class="comment">is</span> <span class="comment">a</span> <span class="comment">win</span>
635      <span class="comment">*/</span>
636     <span class="literal">private</span> <span class="literal">void</span> setIsWin(<span class="literal">boolean</span> isWin){
637         <span class="literal">this</span>.isWin=isWin;
638     }
639     <span class="literal">public</span> ChessBoardState getCopyOfState(){
640         <span class="literal">int</span>[][]board=<span class="literal">new</span> <span class="literal">int</span>[8][8];<span class="comment">//creates a copy of the board</span>
641         <span class="literal">for</span>(<span class="literal">int</span> y=0;y&lt;8;y++){
642             <span class="literal">for</span>(<span class="literal">int</span> x=0;x&lt;8;x++){
643                 board[y][x]=BOARD[y][x];
644             }
645         }
646         <span class="literal">int</span>[]enPassant = <span class="literal">new</span> <span class="literal">int</span>[SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT.length];
647         <span class="literal">for</span>(<span class="literal">int</span> i=0;i&lt;SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT.length;i++){
648             enPassant[i]=SQUARE_THAT_CAN_BE_CAPTURED_EN_PASSANT[i];
649         }
650         <span class="literal">boolean</span> castling[]=<span class="literal">new</span> <span class="literal">boolean</span>[CASTLING_RIGHTS.length];
651         <span class="literal">for</span>(<span class="literal">int</span> i=0;i&lt;CASTLING_RIGHTS.length;i++){
652             castling[i]=CASTLING_RIGHTS[i];
653         }
654         <span class="comment">//creates a new object copying the board</span>
655         ChessBoardState newState = <span class="literal">new</span> ChessBoardState(board, castling, IS_BLACK_TURN_TO_PLAY_NEXT, FULL_MOVE_NUMBER, HALF_MOVE_CLOCK, enPassant);
656         newState.setHasFenBeenCreated(hasFenBeenCreated);
657         newState.setFen(fenString);
658         newState.setIsWin(isWin);
659         newState.setIsLoss(isLoss);
660         newState.setIsDraw(isDraw);
661         <span class="literal">return</span> newState;
662     }
663 }
664 
</pre></body>
</html>
